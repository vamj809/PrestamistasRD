<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <title>Listar clientes</title>
</head>
<style>
    body{
        padding: 0;
        margin: 0;
    }
    .client{
        background-color: #063950;
        border-radius: 30px;
        margin: 10px auto;
    }
</style>
<body>
    <%- include("partials/header.ejs") %>
    <table class="table">
        <thead>
            <tr>
                <th colspan="5"><h4><strong>Listado de Clientes</strong></h4></th>
            </tr>
            <tr>
                <th><strong>ID</strong></th>
                <th><strong>Nombres</strong></th>
                <th><strong>Cedula</strong></th>
                <th><strong>Telefono</strong></th>
                <th><strong>Endeudado</strong></th>
            </tr>
        </thead>
        <tbody id="listado">
            <tr>
                <td colspan="5" style="text-align: center">No se han registrado pr√©stamos.</td>
            </tr>
        </tbody>
    </table>
</body>
<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", function LoadClients(){
        console.log('open');
        const listado = document.querySelector("#listado");
        const MiArreglo = <%-JSON.stringify(ListaClientes)%>;
        console.log(MiArreglo);
        if(MiArreglo.length > 0){
            console.log('I HAVE DATA');
            listado.innerHTML = '';
            MiArreglo.forEach(cliente => {
                const row = document.createElement('tr');

                let id = document.createElement('td');
                id.innerText = cliente.id
                row.appendChild(id);

                let nombre = document.createElement('td');
                nombre.innerText = cliente.Nombre
                row.appendChild(nombre);

                let cedula = document.createElement('td');
                cedula.innerText = cliente.Cedula
                row.appendChild(cedula);

                let telefono = document.createElement('td');
                telefono.innerText = cliente.Telefono
                row.appendChild(telefono);

                let endeudado = document.createElement('td');
                if(cliente.Endeudado){
                    endeudado.innerText = 'SI';
                } else {
                    endeudado.innerText = '';
                }
                row.appendChild(endeudado);

                listado.appendChild(row);
            });
        }
    });
</script>
</html>